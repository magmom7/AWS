<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button onclick="print()">출력</button>
    <div id="print">
        <table border="1" id="table">

        </table>

    </div>

    <script>
        function print() {
            const xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    data = this.responseText;
                    data = JSON.parse(data);
                    console.log(data);

                    
                    // for(i=0; i < length.data; i++){
                        //     tab = tab + '<tr><td>' + data[i].p_no + ' || ' + '</td><td>' + data[i].p_name + ' || ' + '</td><td>' + data[i].p_price + '</td><td>' + data[i].id + '</td></tr>';
                        // }
                        
                        
                    // tab = `<table border: '1'>`
                    tab = ''
                    tab = tab + '<tr><th>직원번호</th><th>직원이름</th><th>담당업무</th><th>담당매니저번호</th><th>부서번호</th></tr>';
                    for (i=0; i<data.length; i++){
                        // console.log(i)
                        tab += '<tr><td>' +data[i].empno + '</td><td>' + data[i].ename + '</td><td>' + data[i].job + '</td><td>' + data[i].mgr + '</td><td>' + data[i].deptno + '</td></tr>';
                        }
                        // document.getElementById("print").innerHTML = tab + '</table>';
                        document.getElementById("table").innerHTML = tab;

                }
            };

            xhttp.open("GET", "/show");
            console.log('----------');
            xhttp.send();
        }
        

    </script>



</body>

</html>